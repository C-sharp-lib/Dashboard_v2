@model IEnumerable<Dash.Areas.Admin.Models.Leads>
@{
    Layout = "_Layout";
}

<div class="row mt-11 mb-11 p-7">
    <div class="col-12 col-md-12">
        <div class="card shadow-lg bg-gradient-dark">
            <div class="card-header bg-gradient-dark" style="display: flex; justify-content: space-between; align-items: center">
                <h1 class="violet-text ubuntu-bold">Leads</h1>
                <div class="btn-group">
                    <a class="btn bg-gradient-dark violet-text ubuntu-bold" asp-action="Index" asp-controller="Dashboard" asp-area="Admin" title="Go back to admin dashboard"><i class="fa-solid fa-backward-step"></i></a>
                    <a asp-action="AddLeadPage" asp-controller="Lead" asp-area="Admin" class="btn bg-gradient-dark green-text ubuntu-bold btn-tooltip" title="Add a new lead"><i class="fa-solid fa-plus"></i></a>
                </div>
            </div>
            <div class="card-body p-3">
                <table class="table table-striped table-borderless table-hover table-responsive table-responsive-sm table-responsive-md table-responsive-lg" id="events-table-container">
                    <thead>
                    <tr class="text-center violet-text ubuntu-bold">
                        <th>User</th>
                        <th>Name</th>
                        <th>JobTitle</th>
                        <th>Company</th>
                        <th>Industry</th>
                        <th>Converted</th>
                        <th>Last Contact Date</th>
                        <th>Follow Up Date</th>
                    </tr>
                    </thead>
                    <tbody>
                    @foreach (var lead in Model)
                    {
                        <tr class="text-center text-sm text-white ubuntu">
                            <td>
                                <div class="d-flex px-2 py-1">
                                    <div>
                                        <img src="@Url.Content($"~/Uploads/AppUsers/{lead.User.ImageUrl}")" alt="Lead user image" class="avatar avatar-sm me-3">
                                    </div>
                                    <div class="d-flex flex-column justify-content-center">
                                        <h6 class="mb-0 text-xs text-white ubuntu">@lead.User.FirstName @lead.User.LastName</h6>
                                        <p class="text-xs text-white ubuntu mb-0">@lead.User.UserName</p>
                                    </div>
                                </div>
                            </td>
                            <td>@lead.FirstName @lead.LastName</td>
                            <td>@lead.JobTitle</td>
                            <td>@lead.CompanyName</td>
                            <td>@lead.Industry</td>
                            <td>@lead.IsConverted</td>
                            <td>@lead.LastContactDate.ToString("d")</td>
                            <td>@lead.FollowUpDate.ToString("d")</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>